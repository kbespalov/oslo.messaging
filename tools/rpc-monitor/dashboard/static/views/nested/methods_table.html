<table class="table">
    <thead>

    <tr>
        <th rowspan="2" ng-click="sortBy(topic,'host')">host</th>
        <th rowspan="2" ng-click="sortBy(topic,'wid')">worker</th>
        <th rowspan="2" ng-click="sortBy(topic,'endpoint')">endpoint</th>
        <th rowspan="2" ng-click="sortBy(topic,'method')">method</th>
        <th rowspan="2" ng-click="sortBy(topic,'calls')">calls</th>
        <th class="text-center" colspan="6">time consumption</th>
    </tr>
    <tr>
        <th ng-click="sortBy(topic,'avg')">avg</th>
        <th ng-click="sortBy(topic,'min')">min</th>
        <th ng-click="sortBy(topic,'max')">max</th>
        <th ng-click="sortBy(topic,'dev')">dev</th>
        <th ng-click="sortBy(topic,'last_call')">last call</th>
    </tr>

    </thead>
    <tbody ng-repeat="sample in state.methods | orderBy: getSortingKey(topic):getSortingOrder(topic)">
    <tr ng-click="show_charts($event,sample,topic)">
        <td>{{ :: sample.host}}</td>
        <td>{{ :: sample.wid}}</td>
        <td>{{ :: sample.endpoint}}</td>
        <td>{{ :: sample.method}}</td>
        <td>{{sample.calls}}</td>
        <td>{{sample.avg}}</td>
        <td>{{sample.min}}</td>
        <td>{{sample.max}}</td>
        <td>{{sample.dev}}</td>
        <td>{{sample.last_call}}</td>
    </tr>
    <tr ng-show="sample.ats != undefined" class="collapse out" id="{{sample.id}}">
        <td colspan="10">
            <div class="well well-lg">
                <p><b> all time statistics: </b></p>
                <ul class="list-group">
                    <li class="list-group-item">
                        <span class="badge">{{ sample.runtime.calls}}</span> total calls
                    </li>
                    <li class="list-group-item">
                        <span class="badge">{{ sample.runtime.max }}</span> global max (s)
                    </li>
                    <li class="list-group-item">
                        <span class="badge">{{ sample.runtime.min }} </span> global min (s)
                    </li>
                    <li class="list-group-item">
                        <span class="badge"> {{sample.runtime.sum / sample.runtime.calls | number: 3}} </span> per call (s)
                    </li>
                </ul>
            </div>
            <canvas class="chart chart-bar" chart-data="[sample.cs]" chart-labels="sample.labels" chart-legend="true" chart-series="['calls count']"></canvas>
            <canvas class="chart chart-bar" chart-data="[sample.ats]" chart-labels="sample.labels" chart-legend="true" chart-series="['avg time consumption']"></canvas>
        </td>
    </tr>
    </tbody>
</table>
